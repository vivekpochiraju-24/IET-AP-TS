<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BioSentinel 360 - Dashboard</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Heroicons -->
  <script src="https://unpkg.com/@heroicons/v2/outline/index.js"></script>
  <style>
    /* ===== Base Styles ===== */
    :root {
      /* Color Palette */
      --primary-dark: #0f172a;
      --secondary-dark: #1e293b;
      --surface-dark: #1e293b;
      --elevated-surface: #334155;
      
      /* Accent Colors */
      --accent-blue: #3b82f6;
      --accent-cyan: #06b6d4;
      --accent-green: #10b981;
      --accent-red: #ef4444;
      --accent-yellow: #f59e0b;
      --accent-purple: #8b5cf6;
      
      /* Text Colors */
      --text-primary: #f8fafc;
      --text-secondary: #94a3b8;
      --text-tertiary: #64748b;
      
      /* Borders & Dividers */
      --border-dark: #334155;
      --border-light: rgba(255, 255, 255, 0.1);
      
      /* Card Styles */
      --card-bg: rgba(30, 41, 59, 0.7);
      --card-hover: rgba(51, 65, 85, 0.5);
      --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --card-shadow-hover: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
      
      /* Transitions */
      --transition-default: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* ===== Base Elements ===== */
    body {
      background-color: var(--primary-dark);
      background-image: 
        radial-gradient(at 80% 20%, rgba(30, 41, 59, 0.5) 0px, transparent 50%),
        radial-gradient(at 20% 80%, rgba(15, 23, 42, 0.5) 0px, transparent 50%);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: var(--primary-dark);
    }
    
    ::-webkit-scrollbar-thumb {
      background: var(--border-dark);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: var(--border-light);
    }
    
    /* Gradient Text */
    .text-gradient {
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-image: linear-gradient(135deg, #06b6d4, #3b82f6);
      display: inline-block;
    }
    
    /* ===== Card Styles ===== */
    .vital-card {
      background: linear-gradient(145deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.95));
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      padding: 1.25rem 1.5rem;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      border-left: 4px solid #43cea2;
    }
    
    .vital-card.heart {
      border-left-color: #43cea2;
    }
    
    .vital-card.blood {
      border-left-color: #8b5cf6;
    }
    
    .vital-card.oxygen {
      border-left-color: #3b82f6;
    }
    
    .vital-card.temp {
      border-left-color: #f59e0b;
    }
    
    .vital-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      border-color: rgba(67, 206, 162, 0.4);
    }
    
    .vital-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #43cea2, #185a9d);
      opacity: 0.8;
      transition: opacity 0.3s ease;
    }
    
    .vital-card:hover::before {
      opacity: 1;
    }
    
    .vital-card .vital-label {
      font-size: 0.7rem;
      color: #94a3b8;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      opacity: 0.9;
    }
    
    .vital-card .vital-label svg {
      width: 1.1em;
      height: 1.1em;
      opacity: 0.8;
    }
    
    .vital-card .vital-value {
      font-size: 2rem;
      font-weight: 700;
      margin: 0.5rem 0;
      color: #fff;
      line-height: 1.2;
      display: flex;
      align-items: flex-end;
      gap: 0.25rem;
      padding: 0.25rem 0;
    }
    
    .vital-card .vital-value span.unit {
      font-size: 1rem;
      font-weight: 500;
      color: #94a3b8;
      opacity: 0.8;
      margin-left: 0.2rem;
      margin-bottom: 0.15rem;
    }
    
    .vital-card .vital-trend {
      font-size: 0.7rem;
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      margin: 0.25rem 0;
      font-weight: 500;
      width: fit-content;
    }
    
    .vital-card .trend-up {
      color: #10b981;
      background-color: rgba(16, 185, 129, 0.1);
    }
    
    .vital-card .trend-down {
      color: #ef4444;
      background-color: rgba(239, 68, 68, 0.1);
    }
    
    .vital-card .trend-neutral {
      color: #94a3b8;
      background-color: rgba(148, 163, 184, 0.1);
    }
    
    /* Card Accent Borders */
    .card-hover.border-l-red-400 { border-left-color: #ef4444; }
    .card-hover.border-l-blue-400 { border-left-color: #3b82f6; }
    .card-hover.border-l-green-400 { border-left-color: #10b981; }
    .card-hover.border-l-yellow-400 { border-left-color: #f59e0b; }
    .card-hover.border-l-purple-400 { border-left-color: #8b5cf6; }
    .card-hover.border-l-cyan-400 { border-left-color: #06b6d4; }
    
    /* Card Icons */
    .card-icon {
      padding: 0.5rem;
      border-radius: 0.5rem;
      width: 2.5rem;
      height: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.05);
    }
    
    /* Progress Bars */
    .progress-container {
      width: 100%;
      background-color: #334155;
      border-radius: 9999px;
      height: 0.5rem;
      overflow: hidden;
    }
    
    .progress-bar {
      height: 100%;
      border-radius: 9999px;
      transition-property: all;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-duration: 500ms;
    }
    
    /* Modal Styling */
    #vitalDetailsModal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1000;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(10px);
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
      padding: 1rem;
      overflow: hidden;
    }
    
    #vitalDetailsModal.active {
      display: flex;
      opacity: 1;
    }
    
    .modal-content {
      background: var(--card-bg);
      border-radius: 12px;
      width: 100%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      border: 1px solid var(--border-light);
      transform: translateY(0);
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
      opacity: 0;
      margin: 1rem;
    }
    
    #vitalDetailsModal.active .modal-content {
      transform: translateY(0);
      opacity: 1;
    }
    
    #vitalDetailsModal.active .modal-content {
      transform: translateY(0);
    }
    
    .modal-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--border-dark);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .modal-header h2 {
      margin: 0;
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .close-modal {
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 1.5rem;
      cursor: pointer;
      transition: color 0.2s;
    }
    
    .close-modal:hover {
      color: var(--text-primary);
    }
    
    .modal-body {
      padding: 1.5rem;
    }
    
    /* Section Headers */
    .section-header {
      font-size: 1.25rem;
      line-height: 1.75rem;
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
    }
    
    .section-header svg {
      height: 1.25rem;
      width: 1.25rem;
      margin-right: 0.5rem;
    }
    
    /* Animated underline for section headers */
    .section-header {
      position: relative;
      display: inline-block;
    }
    
    .section-header::after {
      content: '';
      position: absolute;
      bottom: -6px;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, #43cea2, #185a9d);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .section-header:hover::after {
      transform: scaleX(1);
    }
    
    /* Dark theme overrides */
    .dark {
      background-color: #0f172a;
      color: #f8fafc;
    }
    
    /* Card hover effect - consolidated with the one above */
    
    .card-hover:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      border-color: rgba(67, 206, 162, 0.2);
    }
    
    /* Heart Rate Card Animation */
    .card-hover.heart-rate {
      animation: pulse 2s infinite;
    }
    
    /* Blood Pressure Card Animation */
    .card-hover.blood-pressure {
      animation: float 6s ease-in-out infinite;
    }
    
    /* Oxygen Card Animation */
    .card-hover.oxygen {
      animation: breathe 4s ease-in-out infinite;
    }
    
    /* Temperature Card Animation */
    .card-hover.temperature {
      animation: glow 3s ease-in-out infinite alternate;
    }
    
    /* Keyframe Animations */
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
      100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    
    @keyframes glow {
      from { box-shadow: 0 0 10px -5px #f59e0b; }
      to { box-shadow: 0 0 20px 0 #f59e0b; }
    }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', Arial, sans-serif;
      background: #0a0e17;
      color: #e2e8f0;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
      line-height: 1.6;
      transition: background-color 0.3s ease;
    }
    
    /* Back to home button */
    .back-home {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: #232b3a;
      color: #f5f6fa;
      border: 1.5px solid #43cea2;
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 1rem;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      z-index: 1000;
      letter-spacing: 1px;
    }
    
    .back-home:hover {
      transform: translateX(-50%) translateY(-3px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
      background: #2d3748;
    }
    
    /* Body Scan View Styles */
    .body-scan-view {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      overflow-y: auto;
    }
    
    .scan-container {
      background: rgba(16, 22, 36, 0.9);
      border-radius: 15px;
      padding: 2rem;
      max-width: 900px;
      width: 100%;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(67, 206, 162, 0.2);
    }
    
    .scan-container h2 {
      color: #43cea2;
      text-align: center;
      margin: 0 0 1.5rem 0;
      font-size: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .scan-instructions {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #ccc;
      font-size: 1.1rem;
      line-height: 1.6;
    }
    
    .camera-container {
      position: relative;
      width: 100%;
      max-width: 640px;
      margin: 0 auto 1.5rem;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      background: #000;
      aspect-ratio: 4/3;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    #cameraFeed, #cameraCanvas {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }
    
    .camera-placeholder {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #666;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2;
    }
    
    .scan-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 1;
    }
    
    .scan-line {
      position: absolute;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(to right, 
        transparent, 
        rgba(67, 206, 162, 0.8),
        rgba(67, 206, 162, 0.8),
        transparent);
      box-shadow: 0 0 15px rgba(67, 206, 162, 0.8);
      opacity: 0;
      transition: opacity 0.3s ease;
      animation: scan 2s linear infinite;
    }
    
    @keyframes scan {
      0% { top: 0; opacity: 0; }
      5% { opacity: 1; }
      95% { opacity: 1; }
      100% { top: 100%; opacity: 0; }
    }
    
    .scan-controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 1.5rem 0;
      flex-wrap: wrap;
    }
    
    .scan-btn {
      background: rgba(67, 206, 162, 0.1);
      color: #fff;
      border: 1px solid #43cea2;
      padding: 12px 24px;
      border-radius: 50px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      min-width: 160px;
      justify-content: center;
    }
    
    .scan-btn i {
      font-size: 1.1rem;
    }
    
    .scan-btn:hover {
      background: rgba(67, 206, 162, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(67, 206, 162, 0.3);
    }
    
    .scan-btn.primary {
      background: #43cea2;
      color: #0a192f;
      font-weight: 700;
    }
    
    .scan-btn.primary:hover {
      background: #3ab892;
      box-shadow: 0 4px 20px rgba(67, 206, 162, 0.4);
    }
    
    .scan-btn.cancel {
      border-color: #ff6b6b;
      color: #ff6b6b;
      background: rgba(255, 107, 107, 0.1);
    }
    
    .scan-btn.cancel:hover {
      background: rgba(255, 107, 107, 0.2);
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.2);
    }
    
    .scan-results {
      background: rgba(10, 25, 47, 0.7);
      border-radius: 10px;
      padding: 1.5rem;
      margin-top: 1.5rem;
      border: 1px solid rgba(67, 206, 162, 0.2);
      animation: fadeIn 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .scan-results h3 {
      color: #43cea2;
      text-align: center;
      margin: 0 0 1.5rem 0;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .result-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.2rem;
      margin-bottom: 1.5rem;
    }
    
    .result-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 1.2rem;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .result-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }
    
    .result-card i {
      font-size: 2.2rem;
      color: #43cea2;
      margin-bottom: 0.8rem;
      transition: transform 0.3s ease;
    }
    
    .result-card:hover i {
      transform: scale(1.1);
    }
    
    .result-card h4 {
      margin: 0.5rem 0;
      color: #fff;
      font-size: 1rem;
      font-weight: 600;
    }
    
    .result-value {
      font-size: 1.8rem;
      font-weight: 700;
      margin: 0.5rem 0;
      color: #fff;
      font-family: 'Montserrat', sans-serif;
    }
    
    .result-status {
      display: inline-block;
      padding: 0.3rem 1rem;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      margin-top: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .result-status.normal {
      background: rgba(40, 167, 69, 0.2);
      color: #28a745;
      border: 1px solid rgba(40, 167, 69, 0.3);
    }
    
    .result-status.warning {
      background: rgba(255, 193, 7, 0.2);
      color: #ffc107;
      border: 1px solid rgba(255, 193, 7, 0.3);
    }
    
    .result-status.danger {
      background: rgba(220, 53, 69, 0.2);
      color: #dc3545;
      border: 1px solid rgba(220, 53, 69, 0.3);
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .scan-container {
        padding: 1.5rem;
      }
      
      .scan-container h2 {
        font-size: 1.6rem;
      }
      
      .result-grid {
        grid-template-columns: 1fr 1fr;
      }
      
      .scan-btn {
        padding: 10px 16px;
        font-size: 0.9rem;
        min-width: 140px;
      }
    }
    
    @media (max-width: 480px) {
      .scan-container {
        padding: 1rem;
      }
      
      .result-grid {
        grid-template-columns: 1fr;
      }
      
      .scan-controls {
        flex-direction: column;
        align-items: stretch;
      }
      
      .scan-btn {
        width: 100%;
      }
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(67, 206, 162, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(24, 90, 157, 0.05) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    /* Animated background particles */
    .bg-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      opacity: 0.13;
      background: url('data:image/svg+xml;utf8,<svg width="100%25" height="100%25" viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="400" height="400" fill="none"/><g stroke="%2343cea2" stroke-width="1"><rect x="10" y="10" width="60" height="60" rx="8"/><rect x="80" y="80" width="60" height="60" rx="8"/><rect x="150" y="10" width="60" height="60" rx="8"/><rect x="220" y="80" width="60" height="60" rx="8"/><rect x="290" y="10" width="60" height="60" rx="8"/><rect x="10" y="150" width="60" height="60" rx="8"/><rect x="80" y="220" width="60" height="60" rx="8"/><rect x="150" y="150" width="60" height="60" rx="8"/><rect x="220" y="220" width="60" height="60" rx="8"/><rect x="290" y="150" width="60" height="60" rx="8"/></g></svg>');
      background-size: 400px 400px;
    }
    
    /* App Header */
    .app-header {
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(67, 206, 162, 0.1);
      padding: 1.5rem 2rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .app-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(67, 206, 162, 0.1), transparent);
      animation: headerShine 3s ease-in-out infinite;
    }

    .app-title {
      color: #f5f6fa;
      font-size: 1.8rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      position: relative;
      z-index: 1;
    }

    .app-title i {
      animation: titlePulse 2s ease-in-out infinite;
    }

    .app-nav {
      display: flex;
      gap: 1rem;
    }

    .nav-btn {
      background: #232b3a;
      border: 1.5px solid #43cea2;
      color: #f5f6fa;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
      letter-spacing: 0.5px;
    }

    .nav-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(67, 206, 162, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .nav-btn:hover::before {
      left: 100%;
    }

    .nav-btn:hover {
      background: #2d3748;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .nav-btn.active {
      background: #2d3748;
      border-color: #43cea2;
      color: #43cea2;
      box-shadow: 0 0 10px rgba(67, 206, 162, 0.2);
    }

    .app-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 2rem 5rem 2rem;
      position: relative;
    }

    .app-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, #43cea2, transparent);
      animation: containerGlow 3s ease-in-out infinite;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin: 0 0 2rem 0;
      width: 100%;
      padding: 0.25rem;
    }

    .vitals-section, .robot-section {
      background: rgba(34, 46, 68, 0.9);
      border: 2px solid #43cea2;
      background-image: linear-gradient(45deg, rgba(24, 90, 157, 0.1), rgba(67, 206, 162, 0.1));
      border-radius: 15px;
      padding: 2rem;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .vitals-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(67, 206, 162, 0.1), transparent);
      animation: sectionShine 4s ease-in-out infinite;
    }

    .vitals-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .vital-card {
      background: rgba(35, 43, 58, 0.7);
      border: 1px solid rgba(67, 206, 162, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .vital-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(67, 206, 162, 0.1), transparent);
      transform: translateX(-100%);
      transition: transform 0.6s ease;
    }

    .vital-card:hover::before {
      transform: translateX(100%);
    }

    .vital-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 15px 40px rgba(67, 206, 162, 0.3);
      border-color: #185a9d;
    }

    .card-bg-pattern {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(67, 206, 162, 0.05) 50%, transparent 70%);
      animation: cardShine 3s ease-in-out infinite;
    }

    .vital-icon {
      font-size: 2.5rem;
      color: #43cea2;
      margin-bottom: 1rem;
      position: relative;
      z-index: 1;
    }

    .vital-value {
      font-size: 2.2rem;
      font-weight: 700;
      margin: 0.5rem 0;
      color: #f5f6fa;
    }

    .vital-unit {
      color: #a0a8b0;
      font-size: 0.95rem;
      opacity: 0.9;
    }

    .vital-status {
      color: #43cea2;
      font-size: 0.9rem;
      margin-top: 0.5rem;
      font-weight: 500;
    }



    .robot-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(24, 90, 157, 0.1), transparent);
      animation: robotSectionShine 5s ease-in-out infinite;
    }

    .robot-container {
      background: rgba(35, 43, 58, 0.7);
      border: 1px solid rgba(67, 206, 162, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1rem 0;
      position: relative;
      display: inline-block;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .robot-image {
      max-width: 200px;
      border-radius: 15px;
      position: relative;
      z-index: 1;
      margin-bottom: 1rem;
    }

    .speech-bubble {
      background: rgba(35, 43, 58, 0.9);
      color: #f5f6fa;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      font-size: 1rem;
      margin: 1rem 0;
      max-width: 100%;
      display: inline-block;
      border: 1px solid rgba(67, 206, 162, 0.3);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .speech-bubble::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-top: 10px solid rgba(67, 206, 162, 0.95);
    }

    .robot-controls {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-bottom: 2rem;
    }

    .robot-btn {
      background: rgba(67, 206, 162, 0.2);
      border: 2px solid #43cea2;
      color: #43cea2;
      padding: 0.75rem 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .robot-btn:hover {
      background: rgba(67, 206, 162, 0.3);
      transform: translateY(-2px);
    }

    .quick-actions {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
    }

    .action-btn {
      background: linear-gradient(135deg, #43cea2, #185a9d);
      border: none;
      color: white;
      padding: 1.8rem 1.2rem;
      border-radius: 16px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1.1rem;
      transition: all 0.4s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.8rem;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(67, 206, 162, 0.3);
    }

    .action-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s ease;
    }

    .action-btn:hover::before {
      left: 100%;
    }

    .action-btn:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 35px rgba(67, 206, 162, 0.5);
    }

    .action-btn.emergency {
      background: linear-gradient(135deg, #e74c3c, #c0392b);
      box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3);
    }

    .action-btn.emergency:hover {
      background: linear-gradient(135deg, #ff6a88, #ff8e53);
      box-shadow: 0 15px 35px rgba(231, 76, 60, 0.5);
    }

    .graphs-section {
      background: rgba(34, 46, 68, 0.7);
      border: 2px solid #43cea2;
      border-radius: 16px;
      padding: 2rem;
      backdrop-filter: blur(10px);
      margin-bottom: 2rem;
    }

    .graphs-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
    }

    .graph-card {
      background: rgba(24, 30, 46, 0.5);
      border: 2px solid #43cea2;
      border-radius: 12px;
      padding: 1.5rem;
    }

    .graph-title {
      color: #43cea2;
      font-size: 1.2rem;
      margin-bottom: 1rem;
      text-align: center;
    }

    .graph-container {
      height: 200px;
      background: linear-gradient(180deg, rgba(67, 206, 162, 0.1) 0%, transparent 100%);
      border-radius: 8px;
      position: relative;
      overflow: hidden;
    }

    .chat-section {
      background: rgba(34, 46, 68, 0.7);
      border: 2px solid #43cea2;
      border-radius: 16px;
      padding: 2rem;
      backdrop-filter: blur(10px);
    }

    .chat-interface {
      height: 400px;
      overflow-y: auto;
      margin-bottom: 1.5rem;
      padding: 1rem;
      background: rgba(24, 30, 46, 0.5);
      border-radius: 12px;
    }

    .message {
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 12px;
      max-width: 80%;
    }

    .bot-message {
      background: rgba(67, 206, 162, 0.2);
      margin-right: auto;
    }

    .user-message {
      background: rgba(255, 255, 255, 0.1);
      margin-left: auto;
    }

    .message-sender {
      font-weight: bold;
      margin-bottom: 0.5rem;
    }

    .bot-message .message-sender {
      color: #43cea2;
    }

    .user-message .message-sender {
      color: #ffffff;
    }

    .message-content {
      color: #b2bec3;
    }

    .chat-input {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    /* Voice Assistant Styling */
    .voice-assistant-view {
      background: rgba(16, 22, 36, 0.8);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(67, 206, 162, 0.2);
    }

    .chat-section {
      display: flex;
      flex-direction: column;
      height: 500px;
      background: rgba(24, 30, 46, 0.6);
      border-radius: 15px;
      overflow: hidden;
      border: 1px solid rgba(67, 206, 162, 0.1);
    }

    .chat-messages {
      flex: 1;
      padding: 1.5rem;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
    }

    .message {
      max-width: 80%;
      padding: 1rem 1.2rem;
      border-radius: 15px;
      line-height: 1.5;
      position: relative;
      animation: messageAppear 0.3s ease-out;
    }

    @keyframes messageAppear {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .user-message {
      align-self: flex-end;
      background: linear-gradient(135deg, #43cea2, #185a9d);
      color: white;
      border-bottom-right-radius: 5px;
    }

    .bot-message {
      align-self: flex-start;
      background: rgba(35, 43, 58, 0.8);
      color: #f5f6fa;
      border-bottom-left-radius: 5px;
      border: 1px solid rgba(67, 206, 162, 0.3);
    }

    .message-sender {
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 0.3rem;
      opacity: 0.8;
    }

    .chat-input-container {
      display: flex;
      padding: 1rem;
      background: rgba(16, 22, 36, 0.8);
      border-top: 1px solid rgba(67, 206, 162, 0.1);
    }

    .voice-btn {
      background: linear-gradient(135deg, #43cea2, #185a9d);
      border: none;
      color: white;
      padding: 1rem;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      font-size: 1.2rem;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      position: relative;
      overflow: hidden;
    }

    .voice-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: translateX(-100%);
      transition: 0.5s;
    }

    .voice-btn:hover::before {
      transform: translateX(100%);
    }

    .voice-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(67, 206, 162, 0.4);
    }

    .voice-btn.recording {
      background: linear-gradient(135deg, #ff6a88, #ff8e53);
      animation: pulse 1.5s ease-in-out infinite, colorShift 2s ease-in-out infinite;
    }

    @keyframes colorShift {
      0%, 100% { filter: hue-rotate(0deg); }
      50% { filter: hue-rotate(20deg); }
    }

    .chat-input {
      flex: 1;
      background: rgba(35, 43, 58, 0.8);
      border: 1px solid rgba(67, 206, 162, 0.3);
      border-radius: 25px;
      padding: 0.8rem 1.5rem;
      color: #f5f6fa;
      font-size: 1rem;
      margin-right: 1rem;
      transition: all 0.3s ease;
    }

    .chat-input:focus {
      outline: none;
      border-color: #43cea2;
      box-shadow: 0 0 0 2px rgba(67, 206, 162, 0.2);
    }

    .command-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      margin-top: 1.5rem;
      justify-content: center;
    }

    .command-btn {
      background: rgba(67, 206, 162, 0.1);
      border: 1px solid rgba(67, 206, 162, 0.3);
      color: #43cea2;
      padding: 0.6rem 1.2rem;
      border-radius: 20px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .command-btn:hover {
      background: rgba(67, 206, 162, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(67, 206, 162, 0.2);
    }

    .commands-title {
      text-align: center;
      color: #43cea2;
      margin: 1.5rem 0 0.8rem;
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      opacity: 0.8;
    }

    .text-input {
      flex: 1;
      background: rgba(24, 30, 46, 0.7);
      border: 2px solid #43cea2;
      border-radius: 12px;
      padding: 1rem;
      color: white;
      font-size: 1rem;
    }

    .send-btn {
      background: linear-gradient(135deg, #43cea2, #185a9d);
      border: none;
      color: white;
      padding: 1rem 2rem;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .send-btn:hover {
      transform: translateY(-2px);
    }

    .quick-commands {
      margin-top: 1.5rem;
    }

    .commands-title {
      color: #43cea2;
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }

    .command-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .command-btn {
      background: rgba(67, 206, 162, 0.2);
      border: 2px solid #43cea2;
      color: #43cea2;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .command-btn:hover {
      background: rgba(67, 206, 162, 0.3);
      transform: translateY(-2px);
    }

    .alerts-section {
      margin-bottom: 2rem;
    }

    .alert {
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .alert-warning {
      background: rgba(255, 193, 7, 0.1);
      border: 2px solid #ffc107;
      color: #ffc107;
    }

    .alert-danger {
      background: rgba(231, 76, 60, 0.1);
      border: 2px solid #e74c3c;
      color: #e74c3c;
    }

    .back-btn {
      position: fixed;
      top: 2rem;
      left: 2rem;
      background: linear-gradient(135deg, #43cea2, #185a9d);
      border: none;
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      z-index: 1001;
      transition: all 0.3s ease;
    }

    .back-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(67, 206, 162, 0.3);
    }

    @keyframes cardShine {
      0%, 100% { transform: translateX(-100%); }
      50% { transform: translateX(100%); }
    }

    @keyframes robotFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes robotWave {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-10deg); }
      75% { transform: rotate(10deg); }
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); color: #ff6b6b; }
    }

    @keyframes temperatureRise {
      0%, 100% { transform: scale(1) rotate(0deg); }
      50% { transform: scale(1.1) rotate(5deg); color: #ffa726; }
    }

    @keyframes breathing {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); opacity: 0.3; }
      50% { transform: translateY(-20px); opacity: 1; }
    }

    @keyframes headerGlow {
      0%, 100% { background-position: 0% 0%; }
      50% { background-position: 100% 0%; }
    }

    @keyframes headerShine {
      0%, 100% { transform: translateX(-100%); }
      50% { transform: translateX(100%); }
    }

    @keyframes titlePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    @keyframes containerGlow {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }

    @keyframes sectionGlow {
      0%, 100% { background-position: 0% 0%; }
      50% { background-position: 100% 100%; }
    }

    @keyframes sectionShine {
      0%, 100% { transform: translateX(-100%) translateY(-100%); }
      50% { transform: translateX(100%) translateY(100%); }
    }

    @keyframes robotSectionGlow {
      0%, 100% { background-position: 0% 0%; }
      50% { background-position: 100% 100%; }
    }

    @keyframes robotSectionShine {
      0%, 100% { transform: translateX(-100%) translateY(-100%); }
      50% { transform: translateX(100%) translateY(100%); }
    }

    @keyframes welcomeFade {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
      20% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
      80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
      100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
    }

    @keyframes statusPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @keyframes emergencyFlash {
      0%, 100% { background: linear-gradient(135deg, #e74c3c, #c0392b); }
      50% { background: linear-gradient(135deg, #ff6b6b, #e74c3c); }
    }

    @media (max-width: 768px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
      
      .vitals-grid {
        grid-template-columns: 1fr;
      }
      
      .graphs-grid {
        grid-template-columns: 1fr;
      }
      
      .quick-actions {
        grid-template-columns: 1fr;
      }
      
      .app-container {
        padding: 1rem;
      }
    }
    /* Body Scan Styles */
    .body-scan-view {
      padding: 2rem;
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .scan-container {
      background: rgba(35, 43, 58, 0.7);
      border: 1px solid rgba(67, 206, 162, 0.3);
      border-radius: 12px;
      padding: 2rem;
    }
    
    .camera-container {
      position: relative;
      width: 100%;
      max-width: 500px;
      height: 400px;
      margin: 1.5rem auto;
      border-radius: 12px;
      overflow: hidden;
      background: #1a1f2e;
    }
    
    #cameraCanvas {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .scan-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      overflow: hidden;
    }
    
    .scan-line {
      position: absolute;
      left: 0;
      right: 0;
      height: 4px;
      background: rgba(67, 206, 162, 0.7);
      box-shadow: 0 0 15px rgba(67, 206, 162, 0.7);
      animation: scan 3s linear infinite;
      opacity: 0;
    }
    
    @keyframes scan {
      0% { top: 0; opacity: 0; }
      5% { opacity: 1; }
      95% { opacity: 1; }
      100% { top: 100%; opacity: 0; }
    }
    
    /* Body Scan View Styles */
    .body-scan-view {
      padding: 2rem;
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .scan-container {
      background: rgba(35, 43, 58, 0.6);
      border-radius: 16px;
      padding: 2rem;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(67, 206, 162, 0.2);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    
    .camera-container {
      position: relative;
      width: 100%;
      max-width: 800px;
      height: 500px;
      margin: 0 auto 2rem;
      border-radius: 12px;
      overflow: hidden;
      background: #1a1f2e;
      border: 2px solid rgba(67, 206, 162, 0.3);
    }
    
    #cameraFeed, #scanCanvas {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .scan-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }
    
    .scan-line {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, transparent, #43cea2, transparent);
      box-shadow: 0 0 10px #43cea2;
      animation: scan 3s linear infinite;
      opacity: 0;
    }
    
    .scan-instructions {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.7);
      padding: 1rem;
      text-align: center;
      color: #fff;
      margin: 0;
    }
    
    .scan-instructions p {
      margin: 0.5rem 0;
      font-size: 0.9rem;
    }
    
    .scan-results {
      background: rgba(35, 43, 58, 0.8);
      border-radius: 12px;
      padding: 1.5rem;
      margin-top: 2rem;
      border: 1px solid rgba(67, 206, 162, 0.2);
    }
    
    .vitals-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin: 1.5rem 0;
    }
    
    .vital-card {
      background: rgba(26, 31, 46, 0.8);
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
      border: 1px solid rgba(67, 206, 162, 0.1);
    }
    
    .vital-label {
      font-size: 0.9rem;
      color: #a0aec0;
      margin-bottom: 0.5rem;
    }
    
    .vital-value {
      font-size: 1.8rem;
      font-weight: 700;
      color: #43cea2;
      margin: 0.5rem 0;
    }
    
    .vital-status {
      font-size: 0.85rem;
      font-weight: 600;
      padding: 0.2rem 0.5rem;
      border-radius: 12px;
      display: inline-block;
    }
    
    .normal { background: rgba(67, 206, 162, 0.2); color: #43cea2; }
    
    /* ECG Graph */
    .ecg-container {
      height: 120px;
      margin: 1rem 0;
      position: relative;
      overflow: hidden;
    }
    
    .ecg-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px) 0 0 / 20px 20px,
        linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px) 0 0 / 20px 20px;
      z-index: 0;
    }
    
    .ecg-metrics {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .ecg-metric {
      text-align: center;
    }
    
    .ecg-label {
      display: block;
      font-size: 0.8rem;
      color: #b2bec3;
      margin-bottom: 0.3rem;
    }
    
    .ecg-value {
      font-size: 1rem;
      font-weight: 600;
      color: #f5f6fa;
    }
    
    /* Activity Metrics */
    .activity-metrics {
      display: flex;
      justify-content: space-between;
      margin: 1.5rem 0;
    }
    
    .activity-metric {
      display: flex;
      align-items: center;
      gap: 0.8rem;
    }
    
    .activity-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }
    
    .steps { background: rgba(29, 209, 161, 0.2); color: #1dd1a1; }
    .calories { background: rgba(255, 107, 129, 0.2); color: #ff6b81; }
    .sleep { background: rgba(95, 39, 205, 0.2); color: #5f27cd; }
    
    .activity-details {
      display: flex;
      flex-direction: column;
    }
    
    .activity-value {
      font-weight: 700;
      font-size: 1.1rem;
      color: #f5f6fa;
      line-height: 1.2;
    }
    
    .activity-label {
      font-size: 0.8rem;
      color: #b2bec3;
    }
    
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
      
      .dashboard-header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
      }
      
      .activity-metrics {
        flex-direction: column;
        gap: 1rem;
      }
    }
    
    .result-status {
      font-size: 0.9rem;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      display: inline-block;
      margin-top: 0.5rem;
    }
    
    .result-status.normal {
      background: rgba(67, 206, 162, 0.2);
      color: #43cea2;
    }
    
    .result-status.warning {
      background: rgba(255, 193, 7, 0.2);
      color: #ffc107;
    }
    
    .result-status.danger {
      background: rgba(255, 71, 87, 0.2);
      color: #ff4757;
    }
    
    /* Enhanced Live Vitals Section */
    .vitals-section {
      margin: 2rem 0;
      padding: 1.5rem;
      background: rgba(16, 22, 36, 0.5);
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(67, 206, 162, 0.1);
    }
    
    .vitals-section .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .vitals-section h2 {
      color: #43cea2;
      margin: 0;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.8rem;
    }
    
    .vitals-section .last-updated {
      color: #b2bec3;
      font-size: 0.9rem;
    }
    
    .vitals-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .vital-card {
      background: rgba(35, 43, 58, 0.7);
      border-radius: 12px;
      padding: 1.5rem;
      display: flex;
      align-items: flex-start;
      gap: 1.2rem;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      border-left: 4px solid transparent;
    }
    
    .vital-card.heart { border-left-color: #ff6b6b; }
    .vital-card.bp { border-left-color: #5f27cd; }
    .vital-card.spo2 { border-left-color: #4ecdc4; }
    .vital-card.temp { border-left-color: #ff9f43; }
    .vital-card.resp { border-left-color: #1dd1a1; }
    .vital-card.glucose { border-left-color: #ff6b8b; }
    
    .vital-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }
    
    .vital-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: white;
      flex-shrink: 0;
    }
    
    .vital-card.heart .vital-icon { background: rgba(255, 107, 129, 0.2); color: #ff6b81; }
    .vital-card.bp .vital-icon { background: rgba(95, 39, 205, 0.2); color: #9c6bff; }
    .vital-card.spo2 .vital-icon { background: rgba(78, 205, 196, 0.2); color: #4ecdc4; }
    .vital-card.temp .vital-icon { background: rgba(255, 159, 67, 0.2); color: #ff9f43; }
    .vital-card.resp .vital-icon { background: rgba(29, 209, 161, 0.2); color: #1dd1a1; }
    .vital-card.glucose .vital-icon { background: rgba(255, 107, 139, 0.2); color: #ff6b8b; }
    
    .vital-content {
      flex: 1;
    }
    
    .vital-content h3 {
      color: #f5f6fa;
      margin: 0 0 0.5rem 0;
      font-size: 1rem;
      font-weight: 600;
    }
    
    .vital-value {
      font-size: 1.8rem;
      font-weight: 700;
      color: #f5f6fa;
      display: flex;
      align-items: baseline;
      gap: 0.3rem;
      margin: 0.5rem 0;
    }
    
    .vital-unit {
      font-size: 1rem;
      font-weight: 500;
      color: #b2bec3;
      margin-left: 0.2rem;
    }
    
    .vital-trend {
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
      margin: 0.3rem 0;
    }
    
    .vital-trend i {
      font-size: 0.7rem;
    }
    
    .vital-trend.up { color: #ff6b6b; }
    .vital-trend.down { color: #4ecdc4; }
    .vital-trend.stable { color: #b2bec3; }
    
    .vital-status {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.85rem;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      margin-top: 0.5rem;
    }
    
    .vital-status i {
      font-size: 0.8rem;
    }
    
    .vital-status.normal {
      background: rgba(67, 206, 162, 0.2);
      color: #43cea2;
    }
    
    .vital-status.warning {
      background: rgba(255, 193, 7, 0.2);
      color: #ffc107;
    }
    
    .vital-status.danger {
      background: rgba(255, 71, 87, 0.2);
      color: #ff4757;
    }
    
    /* BP Specific Styles */
    .bp-values {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin: 0.8rem 0;
    }
    
    .bp-value {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .bp-label {
      font-size: 0.8rem;
      color: #b2bec3;
      margin-bottom: 0.2rem;
    }
    
    .bp-number {
      font-size: 1.5rem;
      font-weight: 700;
      color: #f5f6fa;
    }
    
    .bp-unit {
      font-size: 0.8rem;
      color: #b2bec3;
    }
    
    .bp-divider {
      font-size: 1.8rem;
      font-weight: 300;
      color: #b2bec3;
      margin: 0 0.5rem;
      line-height: 1;
    }
    
    /* Vitals Footer */
    .vitals-footer {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
    }
    
    .btn i {
      font-size: 0.9rem;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
      color: white;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(67, 206, 162, 0.3);
    }
    
    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #f5f6fa;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.15);
      transform: translateY(-2px);
    }
    
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .vitals-grid {
        grid-template-columns: 1fr;
      }
      
      .vitals-section .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
      }
      
      .vitals-footer {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <!-- Background Particles -->
  <div class="bg-particles">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>

  <!-- App Header -->
  <header class="app-header">
    <div class="app-title">
      <i class="fas fa-heartbeat"></i>
      BioSentinel 360 Health Dashboard
      <div class="status-indicator" style="display: inline-block; margin-left: 1rem; font-size: 0.8rem; color: #00ff88;">
        <i class="fas fa-circle" style="animation: statusPulse 2s ease-in-out infinite;"></i>
        <span id="connectionStatus">Connected</span>
      </div>
    </div>
    <nav class="app-nav">
      <button class="nav-btn active" id="dashboardBtn">Dashboard</button>
      <button class="nav-btn" id="vitalsDetailBtn">Vitals Detail</button>
      <button class="nav-btn" id="voiceAssistantBtn">Voice Assistant</button>
    </nav>
  </header>

  <!-- Main App Container -->
  <main class="app-container">
    <!-- Header -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
      <div class="flex justify-between items-center">
        <h1 class="text-2xl font-bold text-gray-900">
          <span class="text-gradient">BioSentinel 360</span>
        </h1>
        <div class="text-sm text-gray-500">
          Last updated: <span class="font-medium" id="lastUpdated">Just now</span>
        </div>
      </div>
    </div>

  <!-- Main Content -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Stats Grid -->
    <div class="dashboard-grid">
      <!-- Heart Rate -->
      <div class="vital-card heart" onclick="showVitalDetails('heart')">
        <div class="vital-label">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
          </svg>
          Heart Rate
        </div>
        <div class="vital-value">72<span class="unit">bpm</span></div>
        <div class="vital-trend trend-up">
          <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
          </svg>
          5% from yesterday
        </div>
        <div class="vital-range text-xs text-gray-400">Normal range: 60-100 bpm</div>
      </div>

      <!-- Oxygen Level -->
      <div class="vital-card oxygen" onclick="showVitalDetails('oxygen')">
        <div class="vital-label">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          Oxygen Level
        </div>
        <div class="vital-value">98<span class="unit">%</span></div>
        <div class="vital-trend trend-up">
          <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
          </svg>
          2% from yesterday
        </div>
        <div class="vital-range text-xs text-gray-400">Normal range: 95-100%</div>
      </div>

      <!-- Activity -->
      <div class="vital-card activity" onclick="showVitalDetails('activity')">
        <div class="vital-label">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
          Activity
          <div>
            <h3 class="text-gray-300 font-medium text-sm uppercase tracking-wider mb-1">Activity</h3>
            <p class="text-3xl font-bold text-white">45 <span class="text-lg text-gray-400">min</span></p>
          </div>
          <div class="p-3 rounded-lg bg-green-500/10">
            <svg class="h-8 w-8 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
            </svg>
          </div>
        </div>
        <div class="space-y-4">
          <div>
            <div class="flex justify-between text-xs text-gray-400 mb-1">
              <span>Active Minutes</span>
              <span>45/60 min</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
              <div class="h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full progress-bar" style="width: 75%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between text-xs text-gray-400 mb-1">
              <span>Exercise</span>
              <span>2/5 days</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
              <div class="h-full bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full progress-bar" style="width: 40%"></div>
            </div>
          </div>
        </div>
        <div class="mt-4 pt-4 border-t border-gray-700">
          <div class="flex items-center justify-between text-xs">
            <span class="text-gray-400">Weekly Progress</span>
            <span class="text-blue-300">On Track</span>
          </div>
        </div>
      </div>

      <!-- Blood Pressure -->
      <div class="vital-card blood" onclick="showVitalDetails('blood')">
        <div class="vital-label">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
          </svg>
          Blood Pressure
        </div>
        <div class="vital-value">120<span class="unit">/80</span> <span class="unit">mmHg</span></div>
        <div class="vital-trend trend-neutral">
          <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10h14" />
          </svg>
          Stable
        </div>
        <div class="vital-range text-xs text-gray-400">Normal range: 90/60 - 120/80 mmHg</div>
      </div>

      <!-- SpO2 -->
      <div class="p-6 card-hover border-l-4 border-cyan-400 transform transition-all duration-300 hover:shadow-lg cursor-pointer" onclick="showVitalDetails('oxygen')">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-gray-400 text-sm font-medium">Oxygen Level</p>
            <p class="text-3xl font-bold text-white">98 <span class="text-lg text-gray-400">%</span></p>
          </div>
          <div class="p-3 rounded-lg bg-cyan-500/10">
            <svg class="h-8 w-8 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
        </div>
        <div class="mt-4">
          <div class="flex items-center text-sm text-green-400">
            <span>Normal</span>
            <span class="ml-2">95-100%</span>
          </div>
          <div class="mt-2 text-xs text-gray-400 flex items-center">
            <span>View details</span>
            <svg class="h-3 w-3 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
        </div>
      </div>

      <!-- Temperature -->
      <div class="p-6 card-hover border-l-4 border-yellow-400 transform transition-all duration-300 hover:shadow-lg cursor-pointer" onclick="showVitalDetails('temp')">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-gray-400 text-sm font-medium">Temperature</p>
            <p class="text-3xl font-bold text-white">98.6 <span class="text-lg text-gray-400">°F</span></p>
          </div>
          <div class="p-3 rounded-lg bg-yellow-500/10">
            <svg class="h-8 w-8 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
            </svg>
          </div>
        </div>
        <div class="mt-4">
          <div class="flex items-center text-sm text-green-400">
            <span>Normal</span>
            <span class="ml-2">97°F - 99°F</span>
          </div>
          <div class="mt-2 text-xs text-gray-400 flex items-center">
            <span>View details</span>
            <svg class="h-3 w-3 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
        </div>
      </div>
    </div>

    <!-- Activity Grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="activityGrid">
      <style>
        /* Activity Card Animations */
        #activityGrid > div {
          opacity: 0;
          transform: translateY(20px);
          animation: fadeInUp 0.6s forwards;
        }
        
        #activityGrid > div:nth-child(1) { animation-delay: 0.1s; }
        #activityGrid > div:nth-child(2) { animation-delay: 0.2s; }
        #activityGrid > div:nth-child(3) { animation-delay: 0.3s; }
        
        @keyframes fadeInUp {
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        /* Progress Bar Animation */
        @keyframes progress {
          from { width: 0; }
        }
        
        .progress-bar {
          animation: progress 1.5s ease-out forwards;
        }
      </style>
      <!-- Steps -->
      <div class="p-6 card-hover border-l-4 border-purple-400 transform transition-all duration-300 hover:shadow-lg">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h3 class="text-gray-300 font-medium text-sm uppercase tracking-wider mb-1">Steps</h3>
            <p class="text-3xl font-bold text-white">8,542 <span class="text-lg text-gray-400">steps</span></p>
          </div>
          <div class="p-3 rounded-lg bg-purple-500/10">
            <svg class="h-8 w-8 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
            </svg>
          </div>
        </div>
        <div class="mb-4">
          <div class="flex justify-between text-xs text-gray-400 mb-1">
            <span>0 steps</span>
            <span>10,000 steps</span>
          </div>
          <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
            <div class="h-full bg-gradient-to-r from-purple-400 to-indigo-500 rounded-full progress-bar" style="width: 85.42%"></div>
          </div>
        </div>
        <div class="flex items-center justify-between text-xs">
          <span class="text-green-400 flex items-center">
            <svg class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
            </svg>
            12% from yesterday
          </span>
          <span class="text-gray-400">1,458 to go</span>
        </div>
      </div>

      <!-- Sleep -->
      <div class="p-6 card-hover border-l-4 border-indigo-400 transform transition-all duration-300 hover:shadow-lg">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h3 class="text-gray-300 font-medium text-sm uppercase tracking-wider mb-1">Sleep</h3>
            <p class="text-3xl font-bold text-white">7.5 <span class="text-lg text-gray-400">hours</span></p>
          </div>
          <div class="p-3 rounded-lg bg-indigo-500/10">
            <svg class="h-8 w-8 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
          </div>
        </div>
        <div class="mb-4">
          <div class="flex justify-between text-xs text-gray-400 mb-1">
            <span>0h</span>
            <span>10h</span>
          </div>
          <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
            <div class="h-full bg-gradient-to-r from-indigo-400 to-blue-500 rounded-full progress-bar" style="width: 75%"></div>
          </div>
        </div>
        <div class="flex items-center justify-between text-xs">
          <span class="text-green-400 flex items-center">
            <svg class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
            </svg>
            30min from avg
          </span>
          <span class="text-blue-300">Quality: Good</span>
        </div>
      </div>

      <!-- Rest Time -->
      <div class="bg-white rounded-xl shadow p-6 card-hover">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-gray-500 font-medium">Rest Time</h3>
          <div class="p-2 rounded-lg bg-green-50">
            <svg class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
        </div>
        <div class="flex items-end justify-between">
          <div>
            <p class="text-3xl font-bold text-gray-900">2.5<span class="text-xl">h</span></p>
            <p class="text-sm text-gray-500">Today</p>
          </div>
          <div class="text-right">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
              <svg class="-ml-0.5 mr-1.5 h-2 w-2 text-yellow-400" fill="currentColor" viewBox="0 0 8 8">
                <circle cx="4" cy="4" r="3" />
              </svg>
              Medium
            </span>
            <p class="text-xs text-gray-500 mt-1">-0.5h from avg</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Diet Metrics -->
    <div class="mt-8">
      <h2 class="text-xl font-semibold text-white mb-4 flex items-center">
        <svg class="h-5 w-5 text-yellow-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
        </svg>
        Diet & Nutrition
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <!-- Calories Consumed -->
        <div class="p-6 card-hover border-l-4 border-red-400 transform transition-all duration-300 hover:shadow-lg">
          <div class="flex items-center justify-between mb-6">
            <div>
              <h3 class="text-gray-300 font-medium text-sm uppercase tracking-wider mb-1">Calories</h3>
              <p class="text-3xl font-bold text-white">1,850 <span class="text-lg text-gray-400">kcal</span></p>
            </div>
            <div class="p-3 rounded-lg bg-red-500/10">
              <svg class="h-8 w-8 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
              </svg>
            </div>
          </div>
          <div class="mb-4">
            <div class="flex justify-between text-xs text-gray-400 mb-1">
              <span>0 kcal</span>
              <span>2,200 kcal</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
              <div class="h-full bg-gradient-to-r from-red-400 to-pink-500 rounded-full progress-bar" style="width: 84%"></div>
            </div>
          </div>
          <div class="flex items-center justify-between text-xs">
            <span class="text-green-400 flex items-center">
              <svg class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
              </svg>
              350 under goal
            </span>
            <span class="text-gray-400">Lunch: 450 kcal</span>
          </div>
        </div>

        <!-- Macros -->
        <div class="p-6 card-hover border-l-4 border-blue-400 transform transition-all duration-300 hover:shadow-lg">
          <div class="flex items-center justify-between mb-6">
            <div>
              <h3 class="text-gray-300 font-medium text-sm uppercase tracking-wider mb-1">Macros</h3>
              <p class="text-3xl font-bold text-white">Balanced</p>
            </div>
            <div class="p-3 rounded-lg bg-blue-500/10">
              <svg class="h-8 w-8 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
              </svg>
            </div>
          </div>
          <div class="space-y-3">
            <div>
              <div class="flex justify-between text-xs text-gray-400 mb-1">
                <span>Protein</span>
                <span>120g / 140g</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
                <div class="h-full bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full progress-bar" style="width: 85%"></div>
              </div>
            </div>
            <div>
              <div class="flex justify-between text-xs text-gray-400 mb-1">
                <span>Carbs</span>
                <span>210g / 250g</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
                <div class="h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full progress-bar" style="width: 84%"></div>
              </div>
            </div>
            <div>
              <div class="flex justify-between text-xs text-gray-400 mb-1">
                <span>Fat</span>
                <span>55g / 70g</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
                <div class="h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full progress-bar" style="width: 79%"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Water Intake -->
        <div class="p-6 card-hover border-l-4 border-cyan-400 transform transition-all duration-300 hover:shadow-lg">
          <div class="flex items-center justify-between mb-6">
            <div>
              <h3 class="text-gray-300 font-medium text-sm uppercase tracking-wider mb-1">Water Intake</h3>
              <p class="text-3xl font-bold text-white">2.1 <span class="text-lg text-gray-400">L</span></p>
            </div>
            <div class="p-3 rounded-lg bg-cyan-500/10">
              <svg class="h-8 w-8 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
              </svg>
            </div>
          </div>
          <div class="mb-4">
            <div class="flex justify-between text-xs text-gray-400 mb-1">
              <span>0 L</span>
              <span>3.0 L</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
              <div class="h-full bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full progress-bar" style="width: 70%"></div>
            </div>
          </div>
          <div class="flex items-center justify-between text-xs">
            <span class="text-cyan-300 flex items-center">
              <svg class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
              </svg>
              2 more glasses
            </span>
            <span class="text-gray-400">Last: 30m ago</span>
          </div>
        </div>

        <!-- Meal Plan -->
        <div class="p-6 card-hover border-l-4 border-purple-400 transform transition-all duration-300 hover:shadow-lg">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-gray-300 font-medium text-sm uppercase tracking-wider">Next Meal</h3>
            <div class="p-2 rounded-lg bg-purple-500/10">
              <svg class="h-5 w-5 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
          </div>
          <div class="bg-gray-800/50 rounded-lg p-3 mb-3">
            <div class="flex items-start">
              <div class="bg-purple-500/10 p-2 rounded-lg mr-3">
                <svg class="h-5 w-5 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <div>
                <h4 class="font-medium text-gray-200">Dinner</h4>
                <p class="text-xs text-gray-400">In 2 hours</p>
              </div>
            </div>
            <div class="mt-2">
              <p class="text-sm text-gray-300">Grilled Salmon</p>
              <p class="text-xs text-gray-400">With quinoa & steamed veggies</p>
              <div class="flex items-center mt-2 text-xs text-gray-400">
                <span class="mr-3">650 kcal</span>
                <span class="mr-3">45g protein</span>
              </div>
            </div>
          </div>
          <button class="w-full py-2 px-4 bg-purple-500/10 hover:bg-purple-500/20 text-purple-300 text-sm rounded-lg transition-colors duration-200 flex items-center justify-center">
            <svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
            </svg>
            Log Meal
          </button>
        </div>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="mt-8">
      <h2 class="text-xl font-semibold text-white mb-4 flex items-center">
        <svg class="h-5 w-5 text-blue-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        Recent Activity
      </h2>
      <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl overflow-hidden border border-gray-700/50">
        <div class="divide-y divide-gray-700/50">
          <!-- Activity Item -->
          <div class="p-4 hover:bg-gray-700/30 transition-colors duration-200 flex items-start">
            <div class="bg-blue-500/10 p-2 rounded-lg mr-3">
              <svg class="h-5 w-5 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
              </svg>
            </div>
            <div class="flex-1">
              <p class="text-sm text-gray-200">Morning walk completed</p>
              <p class="text-xs text-gray-400 mt-1">2.5 miles • 35 minutes ago</p>
            </div>
            <span class="text-xs text-blue-400">+120 pts</span>
          </div>
          <!-- Activity Item -->
          <div class="p-4 hover:bg-gray-700/30 transition-colors duration-200 flex items-start">
            <div class="bg-green-500/10 p-2 rounded-lg mr-3">
              <svg class="h-5 w-5 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <div class="flex-1">
              <p class="text-sm text-gray-200">Water intake logged</p>
              <p class="text-xs text-gray-400 mt-1">2 glasses • 1 hour ago</p>
            </div>
            <span class="text-xs text-green-400">+50 pts</span>
          </div>
          <!-- Activity Item -->
          <div class="p-4 hover:bg-gray-700/30 transition-colors duration-200 flex items-start">
            <div class="bg-purple-500/10 p-2 rounded-lg mr-3">
              <svg class="h-5 w-5 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
              </svg>
            </div>
            <div class="flex-1">
              <p class="text-sm text-gray-200">Sleep analysis complete</p>
              <p class="text-xs text-gray-400 mt-1">7.5 hours • 8 hours ago</p>
            </div>
            <span class="text-xs text-purple-400">+80 pts</span>
          </div>
        </div>
        <div class="p-4 text-center border-t border-gray-700/50">
          <button class="text-sm text-blue-400 hover:text-blue-300 font-medium">View All Activity</button>
        </div>
      </div>
    </div>
  </div>
  </main>

  <!-- Vital Details Modal -->
  <div id="vitalDetailsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Vital Signs Details</h2>
        <button id="closeVitalDetails" class="close-modal" aria-label="Close">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Heart Rate Details -->
          <div class="bg-gray-800/50 rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-white">Heart Rate</h3>
              <div class="p-2 rounded-lg bg-red-500/10">
                <svg class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                </svg>
              </div>
            </div>
            <div class="text-center py-4">
              <p class="text-5xl font-bold text-white">72 <span class="text-2xl text-gray-400">bpm</span></p>
              <p class="text-green-400 mt-2">Normal Range: 60-100 bpm</p>
            </div>
            <div class="mt-6">
              <div class="flex justify-between text-sm text-gray-400 mb-2">
                <span>Resting</span>
                <span>68 bpm</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2">
                <div class="h-full bg-gradient-to-r from-red-400 to-pink-500 rounded-full" style="width: 68%"></div>
              </div>
              <div class="flex justify-between text-sm text-gray-400 mt-6 mb-2">
                <span>Current</span>
                <span>72 bpm</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2">
                <div class="h-full bg-gradient-to-r from-red-400 to-pink-500 rounded-full" style="width: 72%"></div>
              </div>
              <div class="flex justify-between text-sm text-gray-400 mt-6 mb-2">
                <span>Peak Today</span>
                <span>85 bpm</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2">
                <div class="h-full bg-gradient-to-r from-red-400 to-pink-500 rounded-full" style="width: 85%"></div>
              </div>
            </div>
          </div>

          <!-- Blood Pressure Details -->
          <div class="bg-gray-800/50 rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-white">Blood Pressure</h3>
              <div class="p-2 rounded-lg bg-blue-500/10">
                <svg class="h-6 w-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
              </div>
            </div>
            <div class="text-center py-4">
              <p class="text-5xl font-bold text-white">120/80 <span class="text-2xl text-gray-400">mmHg</span></p>
              <p class="text-green-400 mt-2">Normal Range: 90/60 - 120/80 mmHg</p>
            </div>
            <div class="mt-6">
              <div class="flex justify-between text-sm text-gray-400 mb-2">
                <span>Systolic</span>
                <span>120 mmHg</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2 mb-6">
                <div class="h-full bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full" style="width: 80%"></div>
              </div>
              <div class="flex justify-between text-sm text-gray-400 mb-2">
                <span>Diastolic</span>
                <span>80 mmHg</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2">
                <div class="h-full bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full" style="width: 53.3%"></div>
              </div>
            </div>
          </div>

          <!-- Oxygen Level Details -->
          <div class="bg-gray-800/50 rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-white">Oxygen Level</h3>
              <div class="p-2 rounded-lg bg-green-500/10">
                <svg class="h-6 w-6 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              </div>
            </div>
            <div class="text-center py-4">
              <p class="text-5xl font-bold text-white">98 <span class="text-2xl text-gray-400">%</span></p>
              <p class="text-green-400 mt-2">Normal Range: 95-100%</p>
            </div>
            <div class="mt-6">
              <div class="flex justify-between text-sm text-gray-400 mb-2">
                <span>Average Today</span>
                <span>97%</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2">
                <div class="h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full" style="width: 97%"></div>
              </div>
              <div class="mt-6">
                <div class="flex justify-between text-sm text-gray-400 mb-2">
                  <span>Current</span>
                  <span>98%</span>
                </div>
                <div class="w-full bg-gray-700 rounded-full h-2">
                  <div class="h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full" style="width: 98%"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Temperature Details -->
          <div class="bg-gray-800/50 rounded-xl p-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-white">Body Temperature</h3>
              <div class="p-2 rounded-lg bg-yellow-500/10">
                <svg class="h-6 w-6 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                </svg>
              </div>
            </div>
            <div class="text-center py-4">
              <p class="text-5xl font-bold text-white">98.6 <span class="text-2xl text-gray-400">°F</span></p>
              <p class="text-green-400 mt-2">Normal Range: 97°F - 99°F</p>
            </div>
            <div class="mt-6">
              <div class="flex justify-between text-sm text-gray-400 mb-2">
                <span>Morning</span>
                <span>97.8°F</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2 mb-6">
                <div class="h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full" style="width: 78%"></div>
              </div>
              <div class="flex justify-between text-sm text-gray-400 mb-2">
                <span>Current</span>
                <span>98.6°F</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-2">
                <div class="h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full" style="width: 86%"></div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mt-8 pt-6 border-t border-gray-800">
          <h3 class="text-lg font-semibold text-white mb-4">24-Hour Trend</h3>
          <div class="bg-gray-800 rounded-lg p-4 h-64 flex items-center justify-center">
            <p class="text-gray-400">Vital signs trend chart will be displayed here</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Vitals Detail View -->
    <div id="vitalsDetailView" class="vitals-detail-view" style="display: none;">
      <h2 style="color: #43cea2; margin-bottom: 1.5rem; text-align: center;">Vitals Detail & Trends</h2>
      
      <!-- Alerts Section -->
      <div class="alerts-section" id="appAlertsSection" style="display: none;">
        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <strong>Warning:</strong> Heart rate elevated above normal range
        </div>
      </div>

      <!-- Graphs Section -->
      <div class="graphs-section">
        <div class="graphs-grid">
          <!-- Heart Rate Graph -->
          <div class="graph-card">
            <h3 class="graph-title">Heart Rate Trend</h3>
            <div class="graph-container">
              <canvas id="appHrCanvas" width="400" height="200"></canvas>
            </div>
          </div>

          <!-- ECG Graph -->
          <div class="graph-card">
            <h3 class="graph-title">ECG Waveform</h3>
            <div class="graph-container">
              <canvas id="appEcgCanvas" width="400" height="200"></canvas>
            </div>
          </div>

          <!-- SpO2 Graph -->
          <div class="graph-card">
            <h3 class="graph-title">SpO₂ Trend</h3>
            <div class="graph-container">
              <canvas id="appSpo2Canvas" width="400" height="200"></canvas>
            </div>
          </div>

          <!-- Temperature Graph -->
          <div class="graph-card">
            <h3 class="graph-title">Temperature Trend</h3>
            <div class="graph-container">
              <canvas id="appTempCanvas" width="400" height="200"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Body Scan View -->
    <div id="bodyScanView" class="body-scan-view" style="display: none;">
      <div class="scan-container">
        <h2><i class="fas fa-heartbeat"></i> Full Body Health Scan</h2>
        <div class="scan-instructions">
          <p>Please stand about 2 meters away from your camera and make sure your whole body is visible.</p>
          <p class="camera-permission-note" style="color: #ff6b6b; margin-top: 0.5rem; display: none;">
            <i class="fas fa-exclamation-circle"></i> Please allow camera access to continue
          </p>
        </div>
        
        <div class="camera-container">
          <video id="cameraFeed" autoplay playsinline style="display: none;"></video>
          <canvas id="cameraCanvas" style="width: 100%; height: auto;"></canvas>
          <div class="scan-overlay">
            <div class="scan-line"></div>
          </div>
          <div class="camera-placeholder" id="cameraPlaceholder">
            <i class="fas fa-camera" style="font-size: 3rem; margin-bottom: 1rem; color: #43cea2;"></i>
            <p>Camera feed will appear here</p>
          </div>
        </div>
        
        <div class="scan-controls">
          <button id="startScanBtn" class="scan-btn primary">
            <i class="fas fa-camera"></i> Start Body Scan
          </button>
          <button id="retryScanBtn" class="scan-btn" style="display: none;">
            <i class="fas fa-redo"></i> Try Again
          </button>
          <button id="cancelScanBtn" class="scan-btn cancel">
            <i class="fas fa-times"></i> Cancel
          </button>
        </div>
        
        <div id="scanResults" class="scan-results" style="display: none;">
          <h3><i class="fas fa-check-circle"></i> Scan Complete</h3>
          <div class="result-grid">
            <div class="result-card">
              <i class="fas fa-heartbeat"></i>
              <h4>Heart Rate</h4>
              <div class="result-value" id="scanHeartRate">--</div>
              <div class="result-status normal" id="heartRateStatus">--</div>
            </div>
            <div class="result-card">
              <i class="fas fa-thermometer-half"></i>
              <h4>Temperature</h4>
              <div class="result-value" id="scanTemperature">--</div>
              <div class="result-status normal" id="temperatureStatus">--</div>
            </div>
            <div class="result-card">
              <i class="fas fa-lungs"></i>
              <h4>Respiration</h4>
              <div class="result-value" id="scanRespiration">--</div>
              <div class="result-status normal" id="respirationStatus">--</div>
            </div>
            <div class="result-card">
              <i class="fas fa-chart-line"></i>
              <h4>Stress Level</h4>
              <div class="result-value" id="scanStress">--</div>
              <div class="result-status normal" id="stressStatus">--</div>
            </div>
          </div>
          <div class="scan-controls" style="margin-top: 1.5rem;">
            <button id="saveScanBtn" class="scan-btn primary" style="min-width: 200px;">
              <i class="fas fa-save"></i> Save Results & Return to Dashboard
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Voice Assistant View -->
    <div id="voiceAssistantView" class="voice-assistant-view" style="display: none;">
      <h2 style="color: #43cea2; margin-bottom: 1.5rem; text-align: center;">BioHealth Assistant</h2>
      
      <div class="chat-section">
        <!-- Chat Interface -->
        <div class="chat-messages" id="appChatMessages">
          <div class="message bot">
            <div class="message-content">
              Hello! I'm your BioHealth Assistant. How can I help you today?
            </div>
          </div>
        </div>
        
        <div class="chat-input-container">
          <input type="text" id="appVoiceInput" placeholder="Type your message..." class="chat-input">
          <button id="appSendBtn" class="send-btn">
            <i class="fas fa-paper-plane"></i>
          </button>
          <button id="appVoiceBtn" class="voice-btn">
            <i class="fas fa-microphone"></i>
          </button>
        </div>
        
        <div class="quick-commands">
          <h3 class="commands-title">Quick Commands:</h3>
          <div class="command-buttons">
            <button class="command-btn" onclick="sendAppCommand('Check my vitals')">Check my vitals</button>
            <button class="command-btn" onclick="sendAppCommand('Call doctor')">Call doctor</button>
            <button class="command-btn" onclick="sendAppCommand('Start health checkup')">Start health checkup</button>
            <button class="command-btn" onclick="sendAppCommand('Emergency alert')">Emergency alert</button>
          </div>
        </div>
      </div>
    </div>
    
   
  
  <!-- Back to Home Button -->
  <a href="index.html" class="back-home">
    <i class="fas fa-arrow-left"></i>
    Back to Home
  </a>

  
  <script>
  


    // Initialize modal events when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Close button
      const closeButton = document.getElementById('closeVitalDetails');
      if (closeButton) {
        closeButton.addEventListener('click', closeVitalDetails);
      }

      // Close modal when clicking outside
      const modal = document.getElementById('vitalDetailsModal');
      if (modal) {
        window.addEventListener('click', function(event) {
          if (event.target === modal) {
            closeVitalDetails();
          }
        });
      }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
      const modal = document.getElementById('vitalDetailsModal');
      if (event.key === 'Escape' && modal && modal.classList.contains('active')) {
        closeVitalDetails();
      }
    });

    // Start the app when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM fully loaded, initializing app...');
      
      // Initialize the app
      initializeApp();
      initializeAppComplete();
      
      // Initialize body scan functionality
      initializeBodyScan();
      
      // Initialize body scan functionality
      function initializeBodyScan() {
        console.log('Initializing body scan functionality...');
        
        // Get DOM elements
        const startCheckupBtn = document.getElementById('appStartCheckupBtn');
        const startScanBtn = document.getElementById('startScanBtn');
        const retryScanBtn = document.getElementById('retryScanBtn');
        const cancelScanBtn = document.getElementById('cancelScanBtn');
        const saveScanBtn = document.getElementById('saveScanBtn');
        
        // Add event listeners if elements exist
        if (startCheckupBtn) {
          startCheckupBtn.addEventListener('click', startBodyScan);
          console.log('Added click event to Start Checkup button');
        }
        
        if (startScanBtn) {
          startScanBtn.addEventListener('click', startScanning);
          console.log('Added click event to Start Scan button');
        }
        
        if (retryScanBtn) {
          retryScanBtn.addEventListener('click', resetScan);
          console.log('Added click event to Retry button');
        }
        
        if (cancelScanBtn) {
          cancelScanBtn.addEventListener('click', cancelScan);
          console.log('Added click event to Cancel button');
        }
        
        if (saveScanBtn) {
          saveScanBtn.addEventListener('click', saveScanResults);
          console.log('Added click event to Save button');
        }
        
        console.log('Body scan initialization complete');
      }
      
      // Start Body Scan
      function startBodyScan() {
        console.log('Starting body scan...');
        
        // Show the scan view
        showAppView('scan');
        
        // Initialize camera
        initializeCamera();
      }
      
      // Initialize camera for scanning
      async function initializeCamera() {
        const cameraFeed = document.getElementById('cameraFeed');
        const cameraPlaceholder = document.getElementById('cameraPlaceholder');
        const cameraNote = document.querySelector('.camera-permission-note');
        
        try {
          // Request camera access
          const stream = await navigator.mediaDevices.getUserMedia({
            video: { 
              facingMode: 'user',
              width: { ideal: 1280 },
              height: { ideal: 720 }
            },
            audio: false
          });
          
          // Hide placeholder and show video feed
          if (cameraPlaceholder) cameraPlaceholder.style.display = 'none';
          if (cameraNote) cameraNote.style.display = 'none';
          
          // Set up video stream
          cameraFeed.srcObject = stream;
          cameraFeed.style.display = 'block';
          
          // Handle video playback
          cameraFeed.onloadedmetadata = () => {
            cameraFeed.play().catch(error => {
              console.error('Error playing video:', error);
              showNotification('Error accessing camera feed', 'error');
            });
          };
          
        } catch (error) {
          console.error('Error accessing camera:', error);
          if (cameraPlaceholder) cameraPlaceholder.style.display = 'flex';
          if (cameraNote) cameraNote.style.display = 'block';
          showNotification('Could not access camera. Please check permissions.', 'error');
        }
      }
      
      // Start the scanning process
      function startScanning() {
        console.log('Starting scan...');
        
        const startScanBtn = document.getElementById('startScanBtn');
        const retryScanBtn = document.getElementById('retryScanBtn');
        const scanLine = document.querySelector('.scan-line');
        
        // Update UI
        if (startScanBtn) startScanBtn.style.display = 'none';
        if (retryScanBtn) retryScanBtn.style.display = 'none';
        if (scanLine) scanLine.style.opacity = '1';
        
        // Simulate scanning for 2 seconds
        setTimeout(() => {
          completeScan();
        }, 2000);
      }
      
      // Complete the scanning process
      function completeScan() {
        console.log('Scan complete');
        
        const scanLine = document.querySelector('.scan-line');
        if (scanLine) scanLine.style.opacity = '0';
        
        // Show results
        showScanResults();
      }
      
      // Show scan results
      function showScanResults() {
        console.log('Showing scan results');
        
        const scanResults = document.getElementById('scanResults');
        const retryScanBtn = document.getElementById('retryScanBtn');
        
        if (scanResults) {
          // Generate random health data
          const heartRate = Math.floor(Math.random() * 40) + 60; // 60-100 bpm
          const temperature = (Math.random() * 1.5 + 36.5).toFixed(1); // 36.5-38.0°C
          const respiration = Math.floor(Math.random() * 10) + 12; // 12-22 breaths/min
          const stress = Math.floor(Math.random() * 60) + 20; // 20-80%
          
          // Update UI with results
          document.getElementById('heartRateResult').textContent = `${heartRate} bpm`;
          document.getElementById('tempResult').textContent = `${temperature}°C`;
          document.getElementById('respirationResult').textContent = `${respiration} bpm`;
          document.getElementById('stressResult').textContent = `${stress}%`;
          
          // Set status indicators
          setStatus('heartRateStatus', heartRate < 60 || heartRate > 100 ? 'warning' : 'normal');
          setStatus('tempStatus', temperature > 37.5 ? 'warning' : 'normal');
          setStatus('respirationStatus', respiration < 12 || respiration > 20 ? 'warning' : 'normal');
          setStatus('stressStatus', stress > 70 ? 'warning' : stress > 50 ? 'normal' : 'good');
          
          // Show results
          scanResults.style.display = 'block';
          
          // Scroll to results
          scanResults.scrollIntoView({ behavior: 'smooth' });
        }
        
        if (retryScanBtn) retryScanBtn.style.display = 'inline-flex';
      }
      
      // Set status indicator
      function setStatus(elementId, status) {
        const element = document.getElementById(elementId);
        if (!element) return;
        
        element.textContent = status.charAt(0).toUpperCase() + status.slice(1);
        element.className = 'result-status ' + status;
      }
      
      // Reset scan
      function resetScan() {
        console.log('Resetting scan...');
        
        const scanResults = document.getElementById('scanResults');
        const startScanBtn = document.getElementById('startScanBtn');
        const retryScanBtn = document.getElementById('retryScanBtn');
        
        if (scanResults) scanResults.style.display = 'none';
        if (startScanBtn) startScanBtn.style.display = 'inline-flex';
        if (retryScanBtn) retryScanBtn.style.display = 'none';
      }
      
      // Cancel scan
      function cancelScan() {
        console.log('Cancelling scan...');
        
        // Stop camera stream
        const cameraFeed = document.getElementById('cameraFeed');
        if (cameraFeed && cameraFeed.srcObject) {
          cameraFeed.srcObject.getTracks().forEach(track => track.stop());
          cameraFeed.srcObject = null;
        }
        
        // Show dashboard
        showAppView('dashboard');
      }
      
      // Save scan results
      function saveScanResults() {
        console.log('Saving scan results...');
        showNotification('Scan results saved successfully!', 'success');
        
        // Return to dashboard after a short delay
        setTimeout(() => {
          showAppView('dashboard');
        }, 1000);
      }
      
      // Show specific app view
      function showAppView(view) {
        console.log('Showing view:', view);
        
        // Hide all views first
        const views = ['dashboard', 'vitals', 'assistant', 'scan'];
        views.forEach(v => {
          const element = document.getElementById(`${v}View`);
          if (element) element.style.display = 'none';
        });
        
        // Show the selected view
        const viewElement = document.getElementById(`${view}View`);
        if (viewElement) {
          viewElement.style.display = 'block';
          console.log(`View '${view}' displayed`);
        } else {
          console.error(`View '${view}' not found`);
        }
        
        // Update active state of navigation buttons
        document.querySelectorAll('.app-nav .nav-btn').forEach(btn => {
          btn.classList.remove('active');
        });
        
        const activeBtn = document.getElementById(`${view}Btn`);
        if (activeBtn) activeBtn.classList.add('active');
      }
      
      // Call initializeBodyScan to set up event listeners
      initializeBodyScan();
      
      // Test body scan functionality after a short delay
      setTimeout(() => {
        console.log('Running body scan test...');
        testBodyScanFunctionality();
      }, 1000);
    });
    
    // Test body scan functionality
    function testBodyScanFunctionality() {
      console.log('Testing body scan functionality...');
      
      // Check if start checkup button exists
      const startCheckupBtn = document.getElementById('appStartCheckupBtn');
      if (!startCheckupBtn) {
        console.error('Start Checkup button not found!');
        return;
      }
      
      console.log('Start Checkup button found, testing click...');
      
      // Simulate click on start checkup button
      const clickEvent = new MouseEvent('click', {
        view: window,
        bubbles: true,
        cancelable: true
      });
      
      // Dispatch the event
      startCheckupBtn.dispatchEvent(clickEvent);
      
      console.log('Start Checkup button clicked, verifying scan view...');
      
      // Verify scan view is shown
      setTimeout(() => {
        const scanView = document.getElementById('bodyScanView');
        if (scanView && scanView.style.display !== 'none') {
          console.log('✅ Scan view is visible');
          
          // Test camera initialization
          const video = document.getElementById('cameraFeed');
          if (video) {
            console.log('✅ Camera feed element found');
            
            // Test start scan button
            const startScanBtn = document.getElementById('startScanBtn');
            if (startScanBtn) {
              console.log('✅ Start Scan button found');
              
              // Simulate click on start scan button
              startScanBtn.dispatchEvent(clickEvent);
              
              // Verify scanning starts
              setTimeout(() => {
                const scanLine = document.querySelector('.scan-line');
                if (scanLine && scanLine.style.animation) {
                  console.log('✅ Scan animation started');
                  
                  // Test scan completion
                  setTimeout(() => {
                    const scanResults = document.getElementById('scanResults');
                    if (scanResults && scanResults.style.display !== 'none') {
                      console.log('✅ Scan results displayed');
                      
                      // Test save functionality
                      const saveBtn = document.getElementById('saveScanBtn');
                      if (saveBtn) {
                        console.log('✅ Save button found');
                        
                        // Test cancel functionality
                        const cancelBtn = document.getElementById('cancelScanBtn');
                        if (cancelBtn) {
                          console.log('✅ Cancel button found');
                          console.log('✅ Body scan test completed successfully!');
                        }
                      }
                    }
                  }, 3500); // Wait for scan to complete
                }
              }, 500);
            }
          }
        } else {
          console.error('❌ Scan view not visible after clicking Start Checkup');
        }
      }, 1000);
    }
    
    // Body Scan Functionality
    function initializeBodyScan() {
      // Get DOM elements
      const startCheckupBtn = document.getElementById('appStartCheckupBtn');
      const startScanBtn = document.getElementById('startScanBtn');
      const retryScanBtn = document.getElementById('retryScanBtn');
      const cancelScanBtn = document.getElementById('cancelScanBtn');
      const saveScanBtn = document.getElementById('saveScanBtn');
      const cameraFeed = document.getElementById('cameraFeed');
      const cameraCanvas = document.getElementById('cameraCanvas');
      const scanLine = document.querySelector('.scan-line');
      const scanResults = document.getElementById('scanResults');
      const scanControls = document.querySelector('.scan-controls');
      
      let stream = null;
      let isScanning = false;
      
      // Event Listeners
      if (startCheckupBtn) {
        startCheckupBtn.addEventListener('click', startBodyScan);
      }
      
      if (startScanBtn) {
        startScanBtn.addEventListener('click', startScanning);
      }
      
      if (retryScanBtn) {
        retryScanBtn.addEventListener('click', resetScan);
      }
      
      if (cancelScanBtn) {
        cancelScanBtn.addEventListener('click', cancelScan);
      }
      
      if (saveScanBtn) {
        saveScanBtn.addEventListener('click', saveScanResults);
      }
      
      // Start Body Scan
      async function startBodyScan() {
        console.log('Starting body scan...');
        showAppView('scan');
        
        // Show camera placeholder
        const cameraPlaceholder = document.getElementById('cameraPlaceholder');
        if (cameraPlaceholder) {
          cameraPlaceholder.style.display = 'flex';
        }
        
        // Hide any previous results
        const scanResults = document.getElementById('scanResults');
        if (scanResults) {
          scanResults.style.display = 'none';
        }
        
        // Show start button, hide retry button
        const startScanBtn = document.getElementById('startScanBtn');
        const retryScanBtn = document.getElementById('retryScanBtn');
        if (startScanBtn) startScanBtn.style.display = 'inline-flex';
        if (retryScanBtn) retryScanBtn.style.display = 'none';
        
        try {
          // Request camera access
          stream = await navigator.mediaDevices.getUserMedia({
            video: { 
              width: { ideal: 1280 },
              height: { ideal: 720 },
              facingMode: 'user' 
            },
            audio: false
          });
          
          // Hide camera placeholder when feed is ready
          if (cameraPlaceholder) {
            cameraPlaceholder.style.display = 'none';
          }
          
          // Show camera feed
          cameraFeed.srcObject = stream;
          cameraFeed.style.display = 'block';
          
          // Set canvas dimensions to match video
          cameraFeed.onloadedmetadata = () => {
            cameraCanvas.width = cameraFeed.videoWidth;
            cameraCanvas.height = cameraFeed.videoHeight;
            drawCameraFeed();
          };
          
          // Hide camera permission note if shown
          const cameraNote = document.querySelector('.camera-permission-note');
          if (cameraNote) {
            cameraNote.style.display = 'none';
          }
          
        } catch (error) {
          console.error('Error accessing camera:', error);
          
          // Show camera permission note
          const cameraNote = document.querySelector('.camera-permission-note');
          if (cameraNote) {
            cameraNote.style.display = 'block';
          }
          
          showNotification('Could not access camera. Please check permissions.', 'error');
        }
      }
      
      // Draw camera feed to canvas
      function drawCameraFeed() {
        if (!isScanning && cameraFeed.readyState >= 2) {
          const ctx = cameraCanvas.getContext('2d');
          ctx.drawImage(cameraFeed, 0, 0, cameraCanvas.width, cameraCanvas.height);
        }
        requestAnimationFrame(drawCameraFeed);
      }
      
      // Start Scanning
      function startScanning() {
        console.log('Starting scan...');
        isScanning = true;
        
        // Hide camera placeholder if still visible
        const cameraPlaceholder = document.getElementById('cameraPlaceholder');
        if (cameraPlaceholder) {
          cameraPlaceholder.style.display = 'none';
        }
        
        // Show scan line
        const scanLine = document.querySelector('.scan-line');
        if (scanLine) {
          scanLine.style.opacity = '1';
        }
        
        // Hide start button, show retry
        const startScanBtn = document.getElementById('startScanBtn');
        const retryScanBtn = document.getElementById('retryScanBtn');
        if (startScanBtn) startScanBtn.style.display = 'none';
        if (retryScanBtn) retryScanBtn.style.display = 'inline-flex';
        
        // Simulate scan completion after 2 seconds (reduced from 5s)
        setTimeout(completeScan, 2000);
      }
      
      // Complete Scan
      function completeScan() {
        console.log('Scan complete');
        isScanning = false;
        
        // Hide scan line
        const scanLine = document.querySelector('.scan-line');
        scanLine.style.opacity = '0';
        
        // Stop camera stream
        if (stream) {
          stream.getTracks().forEach(track => track.stop());
        }
        
        // Show results
        generateScanResults();
        scanResults.style.display = 'block';
      }
      
      // Generate Scan Results (optimized)
      function generateScanResults() {
        // Generate random values for demo (using faster random number generation)
        const random = Math.random();
        const heartRate = 72 + Math.floor(random * 20);
        const temperature = (97.5 + random * 3).toFixed(1);
        const respiration = 14 + Math.floor(random * 10);
        const stress = 30 + Math.floor(random * 50);
        
        // Update UI with results
        document.getElementById('scanHeartRate').textContent = heartRate + ' BPM';
        document.getElementById('scanTemperature').textContent = temperature + '°F';
        document.getElementById('scanRespiration').textContent = respiration + ' rpm';
        document.getElementById('scanStress').textContent = stress + '%';
        
        // Update status indicators
        updateStatus('heartRateStatus', heartRate, 60, 100);
        updateStatus('temperatureStatus', temperature, 97, 99);
        updateStatus('respirationStatus', respiration, 12, 20);
        updateStatus('stressStatus', stress, 0, 50);
      }
      
      // Update status indicator
      function updateStatus(elementId, value, min, max) {
        const element = document.getElementById(elementId);
        if (!element) return;
        
        if (value < min) {
          element.textContent = 'Low';
          element.className = 'result-status warning';
        } else if (value > max) {
          element.textContent = 'High';
          element.className = 'result-status danger';
        } else {
          element.textContent = 'Normal';
          element.className = 'result-status normal';
        }
      }
      
      // Reset Scan
      function resetScan() {
        console.log('Resetting scan...');
        scanResults.style.display = 'none';
        startScanBtn.style.display = 'inline-block';
        retryScanBtn.style.display = 'none';
        
        // Restart camera
        startBodyScan();
      }
      
      // Cancel Scan
      function cancelScan() {
        console.log('Canceling scan...');
        
        // Stop camera stream
        if (stream) {
          stream.getTracks().forEach(track => track.stop());
        }
        
        // Reset UI
        scanResults.style.display = 'none';
        startScanBtn.style.display = 'inline-block';
        retryScanBtn.style.display = 'none';
        
        // Return to dashboard
        showAppView('dashboard');
      }
      
      // Save Scan Results
      function saveScanResults() {
        console.log('Saving scan results...');
        showNotification('Scan results saved successfully!', 'success');
        
        // Update dashboard with new vitals
        updateDashboardVitals();
        
        // Return to dashboard
        showAppView('dashboard');
      }
      
      // Update Dashboard Vitals with scan results
      function updateDashboardVitals() {
        // This would normally update the main dashboard with the new vitals
        console.log('Updating dashboard vitals...');
      }
    }
    
    // Main app initialization
    function initializeApp() {
      console.log('Initializing BioSentinel 360 app...');
      
      // Initialize UI components
      initializeUI();
      
      // Initialize app data and functionality
      initializeAppData();
    }
    
    // Initialize UI components
    function initializeUI() {
      // Set up navigation
      const dashboardBtn = document.getElementById('dashboardBtn');
      const vitalsDetailBtn = document.getElementById('vitalsDetailBtn');
      const voiceAssistantBtn = document.getElementById('healthbot.html');
      
      if (dashboardBtn) dashboardBtn.addEventListener('click', () => showAppView('dashboard'));
      if (vitalsDetailBtn) vitalsDetailBtn.addEventListener('click', () => showAppView('vitals'));
      if (voiceAssistantBtn) voiceAssistantBtn.addEventListener('click', () => showAppView('healthbot.html'));
      
      // Initialize scan buttons
      const startCheckupBtn = document.getElementById('appStartCheckupBtn');
      if (startCheckupBtn) {
        startCheckupBtn.addEventListener('click', function(e) {
          console.log('Start Checkup button clicked');
          startBodyScan();
          if (e) {
            e.preventDefault();
            return false;
          }
        });
      }
      

    function generateScanResults() {
      // Generate realistic but random health metrics
      const heartRate = Math.floor(Math.random() * 30) + 60; // 60-90 bpm
      const temp = (Math.random() * 1.5 + 97.5).toFixed(1); // 97.5-99.0°F
      const respiration = Math.floor(Math.random() * 10) + 12; // 12-22 breaths/min
      const stress = Math.floor(Math.random() * 30) + 40; // 40-70%
      
      // Update UI with results
      document.getElementById('scanHeartRate').textContent = heartRate;
      document.getElementById('scanTemperature').textContent = temp + '°F';
      document.getElementById('scanRespiration').textContent = respiration + '/min';
      document.getElementById('scanStress').textContent = stress + '%';
      
      // Update status indicators
      updateStatusIndicator('scanHeartRate', heartRate, 60, 100);
      updateStatusIndicator('scanTemperature', parseFloat(temp), 97.5, 99.5);
      updateStatusIndicator('scanRespiration', respiration, 12, 20);
      updateStatusIndicator('scanStress', stress, 0, 50);
    }
    
    function updateStatusIndicator(id, value, min, max) {
      const element = document.getElementById(id).parentElement;
      const statusElement = element.querySelector('.result-status');
      
      if (value < min || value > max) {
        statusElement.textContent = value < min ? 'Low' : 'High';
        statusElement.className = 'result-status ' + (value < min ? 'warning' : 'danger');
      } else {
        statusElement.textContent = 'Normal';
        statusElement.className = 'result-status normal';
      }
    }
    
    function resetScan() {
      // Reset UI
      document.getElementById('scanResults').style.display = 'none';
      document.getElementById('retryScanBtn').style.display = 'none';
      document.getElementById('cancelScanBtn').textContent = 'Cancel';
      document.querySelector('.scan-overlay').style.display = 'block';
      
      // Restart the scan process
      startBodyScan();
    }
    
    function cancelScan() {
      // Stop camera if active
      if (stream) {
        stream.getTracks().forEach(track => track.stop());
        stream = null;
      }
      
      // Clear any active intervals
      if (scanInterval) {
        clearInterval(scanInterval);
        scanInterval = null;
      }
      
      // Reset state
      isScanning = false;
      scanProgress = 0;
      
      // Return to dashboard
      showAppView('dashboard');
    }
    
    function saveScanResults() {
      // In a real app, this would save to a database
      showNotification('Scan results saved successfully!', 'success');
      showAppView('dashboard');
    }
    
    // Initialize app graphs and data
    function initializeApp() {
      // Initialize charts and data
      initializeAppGraphs();
      
      // Set up navigation
      document.getElementById('dashboardBtn').addEventListener('click', () => showAppView('dashboard'));
      document.getElementById('vitalsDetailBtn').addEventListener('click', () => showAppView('vitals'));
      document.getElementById('voiceAssistantBtn').addEventListener('click', () => showAppView('assistant'));
      
      // Initialize real-time data updates
      setInterval(updateAppVitalSigns, 3000);
      updateAppVitalSigns();
      
      // Add some sample chat messages
      setTimeout(() => {
        addAppChatMessage("Hello! I'm your AI health assistant. How can I help you today?", 'bot');
      }, 1000);
      
      // Set up voice assistant button
      document.getElementById('appVoiceBtn').addEventListener('click', toggleVoiceRecognition);
      
      // Set up send message button
      document.getElementById('appSendBtn').addEventListener('click', sendMessage);
      
      // Handle Enter key in message input
      document.getElementById('appVoiceInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          sendMessage();
        }
      });
    }

    function showAppView(view) {
      // Hide all views first
      document.querySelectorAll('.dashboard-view, .vitals-detail-view, .voice-assistant-view, .body-scan-view')
        .forEach(el => el.style.display = 'none');
      
      // Show the selected view
      if (view === 'dashboard') {
        document.getElementById('dashboardView').style.display = 'block';
        document.querySelectorAll('.app-nav .nav-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById('dashboardBtn').classList.add('active');
      } else if (view === 'vitals') {
        document.getElementById('vitalsDetailView').style.display = 'block';
        document.querySelectorAll('.app-nav .nav-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById('vitalsDetailBtn').classList.add('active');
      } else if (view === 'assistant') {
        document.getElementById('voiceAssistantView').style.display = 'block';
        document.querySelectorAll('.app-nav .nav-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById('voiceAssistantBtn').classList.add('active');
      } else if (view === 'scan') {
        document.getElementById('bodyScanView').style.display = 'block';
        document.querySelectorAll('.app-nav .nav-btn').forEach(btn => btn.classList.remove('active'));
      }
    }
    
    // Initialize app with all functionality
    function initializeAppComplete() {
      console.log('Initializing complete app functionality...');
      
      // Robot controls initialization
      initializeRobotControls();
      
      // Initialize voice assistant
      initializeVoiceAssistant();
      
      // Start periodic updates
      startPeriodicUpdates();
    }
    
    // Initialize voice assistant
    function initializeVoiceAssistant() {
      const voiceBtn = document.getElementById('appVoiceBtn');
      const voiceInput = document.getElementById('appVoiceInput');
      const sendBtn = document.getElementById('appSendBtn');

      if (voiceBtn) {
        voiceBtn.addEventListener('click', function() {
          voiceBtn.classList.add('recording');
          voiceBtn.innerHTML = '<i class="fas fa-microphone-slash"></i>';
          setTimeout(() => {
            voiceBtn.classList.remove('recording');
            voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
            addAppChatMessage('Voice command received: "Check my vitals"', 'user');
            setTimeout(() => {
              addAppChatMessage('Your current vitals: Heart Rate: 72 BPM, Temperature: 98.6°F, SpO₂: 98%', 'bot');
            }, 1000);
          }, 2000);
        });
      }

      if (sendBtn && voiceInput) {
        sendBtn.addEventListener('click', function() {
          const message = voiceInput.value.trim();
          if (message) {
            addAppChatMessage(message, 'user');
            voiceInput.value = '';
            processAppUserMessage(message);
          }
        });

        voiceInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            sendBtn.click();
          }
        });
      }
    }
    
    // Start periodic updates
    function startPeriodicUpdates() {
      // Initial update
      updateAppVitalSigns();
      
      // Set up periodic updates
      setInterval(updateAppVitalSigns, 3000);
      
      // Simulate connection status updates
      setInterval(() => {
        const statusEl = document.getElementById('connectionStatus');
        if (statusEl) {
          const statuses = ['Connected', 'Monitoring', 'Active', 'Online'];
          const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
          statusEl.textContent = randomStatus;
        }
      }, 5000);
      
      // Initialize quick actions
      initializeQuickActions();
    }
    
    // Initialize quick action buttons
    function initializeQuickActions() {
      const connectDoctorBtn = document.getElementById('appConnectDoctorBtn');
      const emergencyBtn = document.getElementById('appEmergencyBtn');

      if (connectDoctorBtn) {
        connectDoctorBtn.addEventListener('click', function() {
          showNotification('Connecting to your doctor...', 'info');
          addAppChatMessage('Connecting to your doctor...', 'bot');
          setTimeout(() => {
            showNotification('Doctor connected successfully!', 'success');
            addAppChatMessage('Doctor connected. You can now have a video consultation.', 'bot');
          }, 2000);
        });
      }

      if (emergencyBtn) {
        emergencyBtn.addEventListener('click', function() {
          showNotification('🚨 EMERGENCY ALERT ACTIVATED! 🚨', 'info');
          addAppChatMessage('🚨 EMERGENCY ALERT ACTIVATED! 🚨', 'bot');
          addAppChatMessage('Emergency services have been notified. Stay calm and follow instructions.', 'bot');
          
          // Flash the emergency button
          emergencyBtn.style.animation = 'emergencyFlash 0.5s ease-in-out infinite';
          setTimeout(() => {
            emergencyBtn.style.animation = '';
          }, 3000);
        });
      }
    }

    function updateAppVitalSigns() {
      const hrEl = document.getElementById('appHR');
      const tempEl = document.getElementById('appTemp');
      const spo2El = document.getElementById('appSpO2');

      if (hrEl && tempEl && spo2El) {
        const heartRate = 70 + Math.floor(Math.random() * 6);
        const temp = (98.4 + Math.random() * 0.4).toFixed(1);
        const spo2 = 97 + Math.floor(Math.random() * 3);

        hrEl.textContent = heartRate;
        tempEl.textContent = temp;
        spo2El.textContent = spo2;
      }
    }

    function addAppChatMessage(message, sender) {
      const chatMessages = document.getElementById('appChatMessages');
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${sender}-message`;
      
      const senderName = sender === 'bot' ? 'BioSentinel 360:' : 'You:';
      
      messageDiv.innerHTML = `
        <div class="message-sender">${senderName}</div>
        <div class="message-content">${message}</div>
      `;
      
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function processAppUserMessage(message) {
      const lowerMessage = message.toLowerCase();
      setTimeout(() => {
        if (lowerMessage.includes('vital') || lowerMessage.includes('check')) {
          addAppChatMessage('Your current vitals: Heart Rate: 72 BPM, Temperature: 98.6°F, SpO₂: 98%. All readings are normal.', 'bot');
        } else if (lowerMessage.includes('doctor') || lowerMessage.includes('call')) {
          addAppChatMessage('Connecting you to your doctor now. Please wait...', 'bot');
        } else if (lowerMessage.includes('emergency')) {
          addAppChatMessage('🚨 EMERGENCY ALERT ACTIVATED! Emergency services have been notified.', 'bot');
        } else if (lowerMessage.includes('checkup') || lowerMessage.includes('health')) {
          addAppChatMessage('Starting comprehensive health checkup. This will take a few moments...', 'bot');
        } else {
          addAppChatMessage('I understand you said: "' + message + '". How can I help you with your health monitoring?', 'bot');
        }
      }, 1000);
    }

    function sendAppCommand(command) {
      addAppChatMessage(command, 'user');
      processAppUserMessage(command);
    }

    function initializeAppGraphs() {
      // Heart Rate Graph
      const hrCanvas = document.getElementById('appHrCanvas');
      if (hrCanvas) {
        const ctx = hrCanvas.getContext('2d');
        ctx.strokeStyle = '#43cea2';
        ctx.lineWidth = 3;
        ctx.beginPath();
        for (let i = 0; i < 100; i++) {
          const x = (i / 100) * hrCanvas.width;
          const y = hrCanvas.height / 2 + Math.sin(i * 0.1) * 30 + Math.random() * 15;
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.stroke();
      }

      // ECG Graph
      const ecgCanvas = document.getElementById('appEcgCanvas');
      if (ecgCanvas) {
        const ctx = ecgCanvas.getContext('2d');
        ctx.strokeStyle = '#43cea2';
        ctx.lineWidth = 3;
        ctx.beginPath();
        for (let i = 0; i < 100; i++) {
          const x = (i / 100) * ecgCanvas.width;
          let y = ecgCanvas.height / 2;
          if (i % 20 === 0) {
            y += Math.sin(i * 0.5) * 40;
          }
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.stroke();
      }

      // SpO2 Graph
      const spo2Canvas = document.getElementById('appSpo2Canvas');
      if (spo2Canvas) {
        const ctx = spo2Canvas.getContext('2d');
        ctx.strokeStyle = '#43cea2';
        ctx.lineWidth = 3;
        ctx.beginPath();
        for (let i = 0; i < 100; i++) {
          const x = (i / 100) * spo2Canvas.width;
          const y = (spo2Canvas.height * 0.8) - Math.sin(i * 0.05) * 15;
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.stroke();
      }

      // Temperature Graph
      const tempCanvas = document.getElementById('appTempCanvas');
      if (tempCanvas) {
        const ctx = tempCanvas.getContext('2d');
        ctx.strokeStyle = '#43cea2';
        ctx.lineWidth = 3;
        ctx.beginPath();
        for (let i = 0; i < 100; i++) {
          const x = (i / 100) * tempCanvas.width;
          const y = (tempCanvas.height * 0.6) + Math.sin(i * 0.03) * 20;
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.stroke();
      }
    }
    // Close button event listener
    document.getElementById('closeVitalDetails')?.addEventListener('click', closeVitalDetails);
  </script>
</body>
</html>